apply plugin: 'java'
apply plugin: 'eclipse'

apply from: 'libraries.gradle'

sourceCompatibility = 1.7
targetCompatibility = 1.7

version = '1.0'

repositories {
    mavenCentral()
}

task wrapper(type: Wrapper) {
    gradleVersion = '2.0'
}

dependencies {
    [ 'slf4j' ].each 
        { compile rootProject.libraries["$it"] }
    [ 'junit4' ].each 
        { testCompile rootProject.libraries["$it"] }
}

jar {
    manifest {
        attributes 'Implementation-Title': 'Project Name', 'Implementation-Version': version
    }
}

eclipse {
    project { 
         natures 'org.eclipse.pde.PluginNature'
         buildCommand 'org.eclipse.pde.ManifestBuilder' 
         buildCommand 'org.eclipse.pde.SchemaBuilder' 
         buildCommand 'org.eclipse.pde.ManifestBuilder' 
    }
    classpath {
         file {
             whenMerged { classpath ->
                classpath.entries += new org.gradle.plugins.ide.eclipse.model.Container("org.eclipse.pde.core.requiredPlugins");
             }
         }
    }
}
